#include <stdio.h>
#include <stdlib.h>
#include <string.h>

struct Details {
    char name[50];
    char dept[20];
};

// Nested Structure for the Linked List Node
struct Node {
    int roll;
    struct Details info;
    struct Node* next;
};

// Function to create a node by taking user input
struct Node* getStudentData() {
    struct Node* newNode = (struct Node*)malloc(sizeof(struct Node));
    
    printf("Enter Roll Number: ");
    scanf("%d", &newNode->roll);
    getchar(); // Clear the newline character from buffer

    printf("Enter Name: ");
    fgets(newNode->info.name, 50, stdin);
    newNode->info.name[strcspn(newNode->info.name, "\n")] = 0; // Remove trailing newline

    printf("Enter Department: ");
    fgets(newNode->info.dept, 20, stdin);
    newNode->info.dept[strcspn(newNode->info.dept, "\n")] = 0; // Remove trailing newline

    newNode->next = NULL;
    return newNode;
}

void displayList(struct Node* head) {
    printf("\nStudent Records:\n");
    struct Node* temp = head;
    while (temp != NULL) {
        printf("%d %s %s -> ", temp->roll, temp->info.name, temp->info.dept);
        temp = temp->next;
    }
    printf("NULL\n");
}

int main() {
    struct Node *head = NULL, *temp = NULL;
    int n, i;

    printf("How many students would you like to enter? ");
    scanf("%d", &n);

    for (i = 0; i < n; i++) {
        printf("\n--- Entering details for Student %d ---\n", i + 1);
        struct Node* newNode = getStudentData();

        if (head == NULL) {
            head = newNode;
            temp = head;
        } else {
            temp->next = newNode;
            temp = temp->next;
        }
    }

    displayList(head);

    return 0;
}